"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["6124"],{1978:function(e){e.exports=function(){function e(e){var n,p,s=[];return e.AMapUI&&s.push((n=e.AMapUI,new Promise(function(e,p){var s=[];if(n.plugins)for(var l=0;l<n.plugins.length;l+=1)-1==a.AMapUI.plugins.indexOf(n.plugins[l])&&s.push(n.plugins[l]);if(i.AMapUI===o.failed)p("前次请求 AMapUI 失败");else if(i.AMapUI===o.notload){i.AMapUI=o.loading,a.AMapUI.version=n.version||a.AMapUI.version,l=a.AMapUI.version;var r=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+l+"/main.js",c.onerror=function(e){i.AMapUI=o.failed,p("请求 AMapUI 失败")},c.onload=function(){if(i.AMapUI=o.loaded,s.length)window.AMapUI.loadUI(s,function(){for(var n=0,o=s.length;n<o;n++){var a=s[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}for(e();t.AMapUI.length;)t.AMapUI.splice(0,1)[0]()});else for(e();t.AMapUI.length;)t.AMapUI.splice(0,1)[0]()},r.appendChild(c)}else i.AMapUI===o.loaded?n.version&&n.version!==a.AMapUI.version?p("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,function(){for(var n=0,o=s.length;n<o;n++){var a=s[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}e()}):e():n.version&&n.version!==a.AMapUI.version?p("不允许多个版本 AMapUI 混用"):t.AMapUI.push(function(n){n?p(n):s.length?window.AMapUI.loadUI(s,function(){for(var n=0,o=s.length;n<o;n++){var a=s[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}e()}):e()})}))),e.Loca&&s.push((p=e.Loca,new Promise(function(e,n){if(i.Loca===o.failed)n("前次请求 Loca 失败");else if(i.Loca===o.notload){i.Loca=o.loading,a.Loca.version=p.version||a.Loca.version;var s=a.Loca.version,l=a.AMap.version.startsWith("2"),r=s.startsWith("2");if(l&&!r||!l&&r)n("JSAPI 与 Loca 版本不对应！！");else{l=a.key,r=document.body||document.head;var c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+s+"&key="+l,c.onerror=function(e){i.Loca=o.failed,n("请求 AMapUI 失败")},c.onload=function(){for(i.Loca=o.loaded,e();t.Loca.length;)t.Loca.splice(0,1)[0]()},r.appendChild(c)}}else i.Loca===o.loaded?p.version&&p.version!==a.Loca.version?n("不允许多个版本 Loca 混用"):e():p.version&&p.version!==a.Loca.version?n("不允许多个版本 Loca 混用"):t.Loca.push(function(e){e?n(e):n()})}))),Promise.all(s)}if(!window)throw Error("AMap JSAPI can only be used in Browser.");(n=o||(o={})).notload="notload",n.loading="loading",n.loaded="loaded",n.failed="failed";var n,o,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},t={AMap:[],AMapUI:[],Loca:[]},p=[],s=function(e){"function"==typeof e&&(i.AMap===o.loaded?e(window.AMap):p.push(e))};return{load:function(n){return new Promise(function(t,l){if(i.AMap==o.failed)l("");else if(i.AMap==o.notload){var r=n.key,c=n.version,d=n.plugins;r?(window.AMap&&"lbs.amap.com"!==location.host&&l("禁止多种API加载方式混用"),a.key=r,a.AMap.version=c||a.AMap.version,a.AMap.plugins=d||a.AMap.plugins,i.AMap=o.loading,c=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)i.AMap=o.failed,l(a);else for(i.AMap=o.loaded,e(n).then(function(){t(window.AMap)}).catch(l);p.length;)p.splice(0,1)[0]()},(d=document.createElement("script")).type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+r+"&plugin="+a.AMap.plugins.join(","),d.onerror=function(e){i.AMap=o.failed,l(e)},c.appendChild(d)):l("请填写key")}else if(i.AMap==o.loaded)if(n.key&&n.key!==a.key)l("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)l("不允许多个版本 JSAPI 混用");else{if(r=[],n.plugins)for(c=0;c<n.plugins.length;c+=1)-1==a.AMap.plugins.indexOf(n.plugins[c])&&r.push(n.plugins[c]);r.length?window.AMap.plugin(r,function(){e(n).then(function(){t(window.AMap)}).catch(l)}):e(n).then(function(){t(window.AMap)}).catch(l)}else if(n.key&&n.key!==a.key)l("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)l("不允许多个版本 JSAPI 混用");else{var u=[];if(n.plugins)for(c=0;c<n.plugins.length;c+=1)-1==a.AMap.plugins.indexOf(n.plugins[c])&&u.push(n.plugins[c]);s(function(){u.length?window.AMap.plugin(u,function(){e(n).then(function(){t(window.AMap)}).catch(l)}):e(n).then(function(){t(window.AMap)}).catch(l)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},t={AMap:[],AMapUI:[],Loca:[]}}}}()},9818:function(e,n,o){o.r(n),o.d(n,{default:()=>l});var a=o(4132),i=o(1978),t=o.n(i),p=o(9546);let s=function(e){let{dataSource:n=[116.397428,39.90923]}=e,[o,i]=(0,p.useState)(null),[s,l]=(0,p.useState)(null),[r,c]=(0,p.useState)(n),d=(0,p.useRef)(null);(0,p.useEffect)(()=>(window._AMapSecurityConfig={securityJsCode:"67e6ca7ffd28299713404ce6bf308339"},t().load({key:"4749c2545170c0e5c0052ae21c3508ab",version:"2.0",plugins:["AMap.Scale"]}).then(e=>{let n=new e.Map(d.current,{center:r,zoom:11});i(e),l(n)}),()=>{s&&s.destroy()}),[]),(0,p.useEffect)(()=>{if(o&&s){let e=new o.Marker({position:s.getCenter(),draggable:!0});e.setMap(s),s.on("click",n=>{let o=n.lnglat;u(o),e.setPosition(o)}),e.on("dragend",()=>{u(e.getPosition())})}},[o,s]);let u=e=>{c([e.getLng(),e.getLat()])};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:d,style:{width:"100%",height:"400px"}}),(0,a.jsxs)("div",{className:"my-4",children:["坐标点：",r.toString()]})]})},l=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s,{})})}}}]);